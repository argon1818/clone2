
<app-userd-navbar></app-userd-navbar>
<app-sidbaradmin></app-sidbaradmin>
 <ngx-loading [show]="loading"  [config]="{fullScreenBackdrop:true, tertiaryColour: '#9516d8c2' , primaryColour: '#9516d8c2'}" ></ngx-loading>


<section >
    <div>
        <div class="container" >
            <div class="row justify-content-center align-items-center">
                <div  class="col-md-9 " style="height:70% !important ; position: fixed; top:100px" >
                <form [formGroup] = "AddbookingForm" (ngSubmit) = "addbooking()" id="login-form" class="form mr-4" action="" method="post" style="border: 1px solid #0f0e0f; border-radius: 1rem;">
                            
                    <h3 class="text-right text-info  mr-3" style="font-size:13pt; color:#9400D3 !important"><i class="fa fa-plus-circle mt-3" aria-hidden="true"></i><b> ثبت نوبت</b></h3>
                    
                    <div class="form-group mt-1 mr-3 ml-3" style="text-align:justify; direction:rtl; color:black; font-size:10pt ">
                    
                        <label class=" mb-1 mr-2" > <i  class="fa fa-pencil-square-o" aria-hidden="true" style="color:#9400D3"></i> نام کاربر را انتخاب کنید:</label><br>
                    <div class="col-12"> 
                                <div class="form-group col-11 col-lg-12 px-0 ">
                        <fieldset class="form-group ">
                                           <ng-select bindLabel="name" [(ngModel)]="selecteduserIds" class="NgSelect"  bindValue="id" [ngModelOptions]="{standalone: true}" [multiple]="true" 
                            placeholder="انتخاب کاربر"  >
                            <ng-option *ngFor="let item of users" [value]="item.id">{{item.name}} {{item.surname}}  {{item.phone_num}}</ng-option>

                        </ng-select>
                        </fieldset>
                                            
                </div> 
                    </div>
                    </div>
                    <div class="form-group mt-1 mr-3 ml-3" style="text-align:justify; direction:rtl; color:black; font-size:10pt ">
                    
                        <label class=" mb-1 mr-1" > <i  class="fa fa-pencil-square-o" aria-hidden="true" style="color:#9400D3"></i> نام پزشک و مطب را انتخاب کنید:</label><br>
                    <div class="col-12">
                    <div class="form-group col-11 col-lg-12 px-0 ">
                    <fieldset class="form-group ">
                                           <ng-select bindLabel="name" [(ngModel)]="selectedDoctorIds" class="NgSelect"  bindValue="id" [ngModelOptions]="{standalone: true}" [multiple]="true" 
                            placeholder="انتخاب پزشک و مطب"  >
                            <ng-option *ngFor="let item of doctor" [value]="item.id">نام پزشک:{{item.doctors.user.name}}  {{item.doctors.user.surname}} -  نام مطب:{{item.office.name}} - ادرس:{{item.office.address}}</ng-option>

                        </ng-select>
                    </fieldset>

                                            
                </div>        
            </div>              
            </div>                                 

    
                               <div class="d-flex mt-4 ml-4" id="for-new-styles" style="width:100%; justify-content:space-between">
                                <div class="w-20" style="margin-right: auto;margin-left: 23px;">

   

                   <button type="submit" class="btn btn-primary mb-3 mx-2 btn2" style="background-color: #9400D3;font-size: 10pt; padding: 5px 25px; width:100px; border: 1px solid #9400D3;">
                            <a class="text-decoration-none text-white">
                        تایید
                        </a>
                    </button>
                        <button  (click)="ReturnTo()" type="submit" class="btn btn-primary mb-3 mx-2 btn1" style="width:100px;background-color: #9400D3;font-size: 10pt; padding: 5px 25px; border: 1px solid #9400D3;">
                            <a class="text-decoration-none text-white">
                              بازگشت
                        </a>                        
                    </button>
            </div>                      
        </div>                                
    </form>


    <div class="form-group mt-1 mr-3 ml-3" style="text-align:justify; border-radius: 6pt; direction:rtl; color:black; font-size:10pt " >                            
        <div class="col-12"> 
    

            <div class="w-80 px-3" *ngIf="errorMsg1==1" style="color:red; font-size:8pt"  >
                <b><i class="fas fa-exclamation-circle"></i> نام کاربر را انتخاب کنید.</b>              
            </div>
            <div class="w-80 px-3" *ngIf="errorMsg2==1" style="color:red; font-size:8pt"  >
                <b><i class="fas fa-exclamation-circle"></i>نام پزشک را انتخاب کنید</b>              
            </div>
      
        </div>
    </div>                        

    </div>
</div>
</div>









