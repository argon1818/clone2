<app-userd-navbar></app-userd-navbar>
<app-sidbaradmin></app-sidbaradmin>
 <ngx-loading [show]="loading"  [config]="{fullScreenBackdrop:true, tertiaryColour: '#9516d8c2' , primaryColour: '#9516d8c2'}" ></ngx-loading>

<body>
<section id="regestration" class="container mt-1 mb-10 mr-20 ">

  <div id="register">
    <div class="container" >
        <div id="login-row" class="row justify-content-center align-items-center">
              <div class="col-md-8 " style="height:70% !important ;  top:100px" >

              <form  [formGroup] = "registerForm"  id="login-form" accept-charset="UTF-8" class="container"  (ngSubmit) = "registers()" style="border: 1px solid #0f0e0f; border-radius: 1rem;">
                                      <h3  class="text-right text-info mt-3" style="font-size:13pt; color:#9400D3 !important"><a style="text-decoration:none; font-size:13pt; color:#9400D3 !important"><i class="fa fa-plus-circle mt-4" aria-hidden="true"></i> &nbsp;<b>ثبت پزشک</b></a></h3>

                <div class ="row mt-3 mb-1" style="direction: rtl;">
             <div class="col-6" style="direction: rtl;text-align:justify;">
            <div class="from-group" >

                   <label class=" mb-1 mr-1" style="font-size: 9pt" > <i  class="fa fa-pencil-square-o " aria-hidden="true" style="color:#9400D3; direction:rtl !important"></i>&nbsp;&nbsp;<b>اطلاعات فردی</b></label><br>

		        </div>
          </div>
          </div>
              
              <div class="row" style="direction: rtl;">
                <div class="col-6"> 
                  <div class="from-group">
                    <input 
                      type="text" 
                     [ngClass]="{ 'is-invalid': submitted && f.name.errors }"
                      class="form-control mb-3 mt-2 text-right align-right "
                      placeholder='نام' formControlName = "name" value={{name}} required aria-required="true" title="Please fill out this field."
                    />	             
                  </div>
                </div>
                <div class="col-6">
                  <div class="from-group">
                    <input
                      type="text" 
                      [ngClass]="{ 'is-invalid': submitted && f.surname.errors }"
                      class="form-control mb-3 mt-2 text-right align-right"
                      placeholder="نام خانوادگی" formControlName = "surname" value= {{surname}}
                    />	
                  </div>
                </div>
              </div>


              <div class="row" style="direction: rtl;">
                <div class="col-6"> 
                  <div class="from-group">
                         <input
                    type="text" 
                    [ngClass]="{ 'is-invalid': submitted && f.phone_num.errors }"
                    class="form-control mb-3 text-right align-right" mask="00000000000"
                    placeholder='موبایل'  formControlName = "phone_num" style="direction: rtl;" value= {{phone_num}}
                  />		
                  </div>
                </div>                
                <div class="col-6"> 
                  <div class="from-group">
                    <input type="text" 
                    [ngClass]="{ 'is-invalid': submitted && f.id_num.errors }"
                      class="form-control mb-3 text-right align-right"
                      placeholder="کد ملی" formControlName = "id_num" value= {{id_num}} mask="0000000000"
                    />		
                  </div>
                </div>
              </div>


            <div class="row" style="direction: rtl;">
              <div class="col-6">
                <div class="from-group">
                    <input
                        type="text" 
                        class="form-control mb-3 text-right align-right"
                        placeholder="نام پدر" formControlName = "father_name" value= {{father_name}}
                      />	
                </div>  
              </div>
              <div class="col-6">
                <div class="from-group">
         

                 		

                         <input
                    type="email" 
                    class="form-control mb-3 text-right align-right"
                    placeholder="ایمیل" formControlName = "email" style="direction: rtl;" value= {{email}}
                  />	
                </div>
              </div>
            </div>


            <div class="row" style="direction: rtl;">



               <div class="col-6">
                <div class="from-group">
                  <input
                    type="text" 
                    class="form-control mb-3 text-right align-right"
                    formControlName = "site" value={{site}}

                    placeholder='سایت'   style="direction: rtl;" 
                  />
                </div>
              </div>
                        <div class="col-6">
                <div class="from-group">
                  <input
                    type="text" 
                    class="form-control mb-3 text-right align-right inputsize"
                    placeholder='شماره پاسپورت' formControlName = "passport_num"  style="direction: rtl;" 
                  />
                </div>
              </div>

            </div>

             <div class ="row" style="direction: rtl;">
        <div class="col-6">
          <div div class="from-group">
            <select id="education" name="education" class="form-control mb-3 text-right align-right"
               formControlName = "education" 
               style="font-size:0.7rem;width: 150px;width: 100%;" (change)="selectEducation($event)" value= {{academic_degree}}> 

                <option value="" disabled selected hidden> تحصیلات</option>
                <option value="دیپلم">دیپلم</option>
                <option value="کاردانی">کاردانی</option>
                <option value="کارشناسی">کارشناسی</option>
                <option value="کارشناسی ارشد">کارشناسی ارشد</option>
                <option value="دکتری">دکتری</option>
            </select>
          </div>
      </div>

      <div class="col-6"> 
        <div class="from-group ">
          <select id="nationality"  name="nationality"  style="font-size:0.7rem;width: 100%;margin-right:1px;"
            class="form-control mb-3 text-right align-right"
            formControlName = "nationality" 
            (change)="selectnationality($event)" value= {{nationality}}>

            <option value="" disabled selected hidden >ملیت</option>
            <option value="ایرانی">ایرانی</option>
            <option value="غیرایرانی">غیر ایرانی</option>
  
          </select>
        </div>
      </div>
    </div>

    <div class ="row" style="direction: rtl;">
      <div class="col-6">
        <div class="from-group">  
            <select id="marital_status" name="marital_status"   style="font-size:0.7rem;width: 150px;width: 100%;"
             class="form-control mb-3 text-right align-right"  formControlName = "marital_status" 
             (change)="select_marital_status($event)" value= {{name_marital}}> 
              <option value="" disabled selected hidden> وضعیت تاهل</option>
              <option value="مجرد">مجرد</option>
              <option value="متاهل">متاهل</option>     
            </select>
        </div>
      </div>
      <div class="col-6"> 
      <div class="from-group">
        <select id="gender"  name="gender" 
          class="form-control mb-3 text-right align-right"
          formControlName = "gender" 
            style="font-size:0.7rem;width: 100%;margin-right:1px" (change)="select_gender($event)" value= {{name_gender}} >

          <option value="" disabled selected hidden>جنسیت</option>
          <option value="زن">زن</option>
          <option value="مرد">مرد </option>
  
        </select>
      </div>
    </div>
  </div>            
  <div class ="row" style="direction: rtl;">
    <div class="col-6">
      <div class="from-group">        
              <select class="form-control mb-3 text-right align-right" name="ostan" 
                [ngClass]="{ 'is-invalid': submitted && f.province.errors }"
                style="font-size:0.7rem;width: 100%;margin-right:1px;"
                formControlName = "province" 
                id="province" (change)="selectOstan($event)"  >
                
                <option value=""  disabled selected hidden >انتخاب استان</option>
                <option  *ngFor= "let item of data" value={{item.state_id}}>{{item.province}}</option> 
              </select>
        </div> 
      </div> 
      <div class="col-6"> 
        <div class="from-group">
              <select  class="form-control mb-3 text-right align-right"  style="font-size:0.7rem; ;width: 150px;margin-right:32px"
                [ngClass]="{ 'is-invalid': submitted && f.city.errors }"
                formControlName = "city" 
                style="font-size:0.7rem;width: 100%;margin-right:1px"
               name="City"   id="cities" (change)="selectCity($event)" >
                <option value="" disabled selected hidden>انتخاب شهر</option>
                <option *ngFor="let city of cities" value={{city.id}}>{{city.city}}</option>
              </select>
            </div> 
         </div> 
      </div> 

      <div class ="row" style="direction: rtl;">

      <div class="col-6">         
            <div class="from-group" style="text-align: right; direction: rtl;">
                <textarea rows="20"               
                cols="100" class="form-control col-12 mr-1" rows="3" placeholder="بیوگرافی"  formControlName = "biography"
                 style="font-size:10pt"
                > 
                </textarea>
            </div>
          </div>
         <div class="col-6">         
            <div class="from-group" style="text-align: right; direction: rtl;">
                <textarea rows="20"               
                cols="100" class="form-control col-12 mr-1" rows="3" placeholder="آدرس"  formControlName = "address" style="font-size:10pt"
                [ngClass]="{ 'is-invalid': submitted && f.address.errors }"
                > 
                </textarea>
            </div>
          </div>
        </div> 




 


 <div class ="row mt-3 mb-1" style="direction: rtl;">
         <div class="col-6" style="direction: rtl;text-align:justify;">
            <div class="from-group" >
                   <label class=" mb-1 mr-1" style="font-size: 9pt" > <i  class="fa fa-pencil-square-o " aria-hidden="true" style="color:#9400D3; direction:rtl !important"></i>&nbsp;&nbsp;<b>اطلاعات پزشکی</b></label><br>

		        </div>
          </div>
          </div>      



 <div class ="row" style="direction: rtl; font-size: 9pt;">     
      

      
    </div>


    <div class ="row" style="direction: rtl;">


      <div class="col-6">
  <div class="from-group">
    <input
      type="text" 
      [ngClass]="{ 'is-invalid': submitted && f.docid.errors }"
      formControlName = "docid" 
      class="form-control mb-3 text-right align-right"
      placeholder='شماره نظام پزشکی'  style="direction: rtl;" value= {{docid}}
    />
  </div>

</div>  
<div class="col-6"> 
  <div class="form-group col-11 col-lg-12 px-0 ">

  <fieldset class="form-group " style="direction: rtl;text-align:justify;font-size: 9pt;">
    <ng-select [items]="data2" class="NgSelect" bindLabel="name_special" bindValue="id"  [multiple]="true" 
        placeholder="انتخاب تخصص-فوق تخصص" [(ngModel)]="selectedspecialIds" [ngModelOptions]="{standalone: true}" [virtualScroll]="true">
    
    </ng-select>
</fieldset>
  </div>
</div>
</div>

<div class ="row mt-3 mb-1" style="direction: rtl;">
         <div class="col-6" style="direction: rtl;text-align:justify;">
            <div class="from-group" >
                   <label class=" mb-1 mr-1" style="font-size: 9pt" > <i  class="fa fa-pencil-square-o " aria-hidden="true" style="color:#9400D3; direction:rtl !important"></i>&nbsp;&nbsp;<b>اطلاعات بانکی</b></label><br>

		        </div>
          </div>
          </div>
             <div class ="row" style="direction: rtl;">
              <div class="col-6">
                <div class="from-group" >
                  <input
                    type="text"
                    class="form-control mb-3 text-right align-right"
                    placeholder=" نام بانک" formControlName = "bank_name" style="direction: rtl;" value= {{bank_name}}
                  />		
                </div> 
              </div> 
              <div class="col-6">             
                <div class="from-group">
                    <input
                      type="text"
                      class="form-control mb-3 text-right align-right" mask="0000000000000"
                      placeholder=" شماره حساب" formControlName = "account_num_bank" style="direction: rtl;" value= {{account_num_bank}}
                    />	
                  </div>
              </div>
          </div>

       <div class ="row" style="direction: rtl;">
         <div class="col-6">
            <div class="from-group">
              <input
              type="text"
              class="form-control mb-3 text-right align-right"
              placeholder=" شماره کارت" formControlName = "card_num_bank" style="direction: rtl;" value= {{card_num_bank}} mask="0000-0000-0000-0000"
            />
		        </div>
          </div>






<div class="col-6"> 
          <div class="from-group">
              <div class="col-auto" style="padding:0px !important;"> 
                <div class="input-group mb-2" id="shaba-input">
               
                  <input type="text"  class="form-control" formControlName = "shabaInput"  mask="0000-0000-0000-0000-0000-0000"  placeholder="شماره شبا (۲۴ رقم)">
                   <div class="input-group-prepend">
                    <div class="input-group-text" style="padding-bottom: 2px!important;">- IR</div>
                  </div></div>

              </div>
  
	        </div>
        </div>
      </div>



       <div class ="row mt-3 mb-1" style="direction: rtl;">
         <div class="col-6" style="direction: rtl;text-align:justify;">
            <div class="from-group" >
                   <label class=" mb-1 mr-1" style="font-size: 9pt" > <i  class="fa fa-pencil-square-o " aria-hidden="true" style="color:#9400D3; direction:rtl !important"></i>&nbsp;&nbsp;<b> مستندات</b></label><br>

		        </div>
          </div>
          </div>      



 <div class ="row" style="direction: rtl; font-size: 9pt;">     
      

      
    </div>


    <div class ="row" style="direction: rtl;">


      <div class="col-6">
  <div class="from-group">
    <input
    type="file" accept="image/*" (change)="onFileChanged($event)"
      formControlName = "docid" 
      class="form-control mb-3 text-right align-right"
      placeholder='بارگذاری مستندات'  style="direction: ltr; !important" value= {{docid}}
    />
  </div>

</div>  

</div>

      
       <div class="d-flex mt-4 ml-4" id="for-new-styles" style="width:100%; justify-content:space-between">
            <div class="w-20" style="margin-right: auto;">

            <button   class="btn btn-primary  mb-3  w-20" style="background-color: #9400D3; padding: 5px 25px;width:100px;font-size: 10pt;">
              <a class="text-decoration-none text-white">
                تایید
              </a>
            </button>
                        <button  (click)="ReturnTo()" type="submit" class="btn btn-primary mb-3 mx-2" style="width:100px;background-color: #9400D3;font-size: 10pt; padding: 5px 25px">
              <a class="text-decoration-none text-white">
                    بازگشت
              </a>                        
          </button>
          </div>
        </div>

      </form>  

      <form  accept-charset="UTF-8" class="container mt-2"  style="border-color: white !important; background-color: white;">
              
        <div class="form-group" style=" text-align:justify;border-radius: 6pt; direction:rtl; color:black; font-size:10pt " >                            
          <div class="col-12">  
               <div class="w-80 px-3"  
               *ngIf="((submitted) && f.name.errors) ||((submitted) && f.surname.errors)||((submitted) && f.father_name.errors)||
               ((submitted) && f.id_num.errors)||((submitted) && f.email.errors)||((submitted) && f.phone_num.errors)
               ||((submitted) && f.bank_name.errors)||((submitted) && f.account_num_bank.errors)||((submitted) && f.card_num_bank.errors)
               ||((submitted) && f.shabaInput.errors)||((submitted) && f.address.errors)||((submitted) && f.city.errors)
               ||((submitted) && f.education.errors)||((submitted) && f.passport_num.errors)||((submitted) && f.nationality.errors)
               ||((submitted) && f.marital_status.errors)||((submitted) && f.gender.errors)||((submitted) && f.province.errors) 
               ||((submitted) && f.docid.errors)||((submitted) && f.site.errors)||((submitted) && f.biography.errors)  "              
                             
               style="color:red; font-size:8pt">
                    <div style="direction:rtl !important"><b><i class="fas fa-exclamation-circle"></i> لطفا اطلاعات فرم را کامل نمایید.</b></div> 
              </div>
              <div class="w-80 px-3"  *ngIf="submitted && f.id_num.errors  " style="color:red; font-size:8pt">
                <div *ngIf="f.id_num.errors.pattern" style="direction:rtl !important"><b><i class="fas fa-exclamation-circle"></i> فرمت کد ملی صحیح نمی باشد.</b></div> 
              </div>
              <div class="w-80 px-3"  *ngIf="submitted && f.email.errors  " style="color:red; font-size:8pt">
                <div *ngIf="f.email.errors.pattern" style="direction:rtl !important"><b><i class="fas fa-exclamation-circle"></i> فرمت ایمیل صحیح نمی باشد.</b></div> 
              </div>
              
              <div class="w-80 px-3"  *ngIf="submitted && f.phone_num.errors  " style="color:red; font-size:8pt">
                <div *ngIf="f.phone_num.errors.pattern" style="direction:rtl !important"><b><i class="fas fa-exclamation-circle"></i> فرمت شماره همراه صحیح نمی باشد.</b></div> 
              </div>
              <div class="w-80 px-3"  *ngIf="submitted && f.card_num_bank.errors  " style="color:red; font-size:8pt">
                <div *ngIf="f.card_num_bank.errors.pattern" style="direction:rtl !important"><b><i class="fas fa-exclamation-circle"></i> فرمت شماره کارت صحیح نمی باشد.</b></div> 
              </div>
              <div class="w-80 px-3"  *ngIf="submitted && f.shabaInput.errors  " style="color:red; font-size:8pt">
                <div *ngIf="f.shabaInput.errors.pattern" style="direction:rtl !important"><b><i class="fas fa-exclamation-circle"></i> فرمت شماره شبا صحیح نمی باشد.</b></div> 
              </div>

                <div class="w-80 px-3"  *ngIf="submitted && errorMsg==1  " style="color:red; font-size:8pt">
                <div  style="direction:rtl !important"><b><i class="fas fa-exclamation-circle"></i> تخصص پزشک را انتخاب کنید</b></div> 
              </div>
              <!-- <div class="w-80 px-3"  *ngIf="submitted && error1==1  " style="color:black; font-size:8pt">
                <div  style="direction:rtl !important"><b>*  کاربری با این شماره تلفن قبلا ثبت شده است    .</b></div> 
              </div> -->
         


          </div>
  
        </div>            
        
</form> 
      
            </div>
     



    </div>
    
  </div>
  
</div>
</section>



</body>

<!--Registration Page Ends-->

